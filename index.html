<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logic Gates Studio</title>
    
    <style>
        /* ---------- BASE PAGE ---------- */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background: #0b1624;
            font-family: Segoe UI, Arial, sans-serif;
        }

        /* ---------- MAIN CONTAINER ---------- */
        .frame-container {
            position: relative;
            width: 100%;
            height: 100vh;            /* full screen */
            overflow: hidden;         /* prevents layout shifting */
            border-radius: 24px;
            padding-bottom: 0px;     /* space reserved for footer */
            box-sizing: border-box;
        }

        /* ---------- IFRAME ---------- */
        .responsive-iframe {
            position: absolute;       /* IMPORTANT: removes from document flow */
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;             /* fills entire container */
            border: 0;
            border-radius: 24px 24px 0 0;
            pointer-events: auto;
            background: #000;
        }

        /* ---------- FIXED FOOTER ---------- */
/* make footer act as positioning parent */
.iframe-footer{
    position:fixed;
    bottom:0;
    left:0;
    width:100%;
    height:85px;
    background:#0d1c2f;

    display:flex;
    align-items:center;
    justify-content:space-between; /* left + right */



    z-index:9999;
}


/* CENTER TEXT */
.footer-center{
    position:absolute;
    left:50%;
    transform:translateX(-50%);   /* TRUE center */

    font-family:"Times New Roman", Times, serif;
    font-size:11px;
    color:#d8ecff;
    letter-spacing:1px;
    white-space:nowrap;
}


        /* left side branding */
        .footer-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .lightning-left::before {
            content: "‚ö°";
            font-size: 1.9rem;
            filter: drop-shadow(0 0 6px cyan);
            margin-right: 8px;
        }

        /* ----- PRINT BUTTON (right side, stylish) ----- */
        .print-btn {
            background: rgba(10, 30, 40, 0.85);
            backdrop-filter: blur(4px);
            border: 2px solid #3ac7d6;
            color: #f0feff;
            padding: 8px 22px;
            border-radius: 42px;
            font-size: 1.3rem;
            font-weight: bold;
            letter-spacing: 2.5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 0 15px #00d0d0, inset 0 0 5px #70f0ff;
            cursor: pointer;
            transition: 0.2s ease;
            text-transform: uppercase;
            border: 1px solid #6ee9ff;
            margin-left: auto;   /* pushes to far right in flex parent */
        }

        .print-btn:hover {
            background: #146b78;
            border-color: #a1f5ff;
            box-shadow: 0 0 24px #0ff, inset 0 0 10px #bfffff;
            color: white;
            text-shadow: 0 0 12px white;
            transform: scale(1.02);
        }

        .print-btn:active {
            background: #0e4f59;
            transform: scale(0.98);
            box-shadow: 0 0 30px #00f7ff;
        }

        .print-icon {
            font-size: 1.7rem;
            line-height: 1;
            filter: drop-shadow(0 0 5px white);
        }

        /* caption text */
        .caption {
            position: absolute;
            bottom: -28px;
            right: 8px;
            color: #7f9fbb;
            font-size: 0.75rem;
            opacity: 0.7;
            letter-spacing: 1px;
        }

        /* ---------- MOBILE ---------- */
        @media (max-width: 700px) {
            .iframe-footer {
                height: 70px;
                font-size: 1.2rem;
                padding: 0 20px;
            }
            .frame-container {
                padding-bottom: 70px;
            }
            .print-btn {
                padding: 6px 18px;
                font-size: 1.1rem;
            }
            .print-icon {
                font-size: 1.4rem;
            }
        }

        @media (max-width: 500px) {
            .iframe-footer {
                height: 60px;
                font-size: 0.95rem;
                padding: 0 16px;
            }
            .print-btn {
                padding: 4px 14px;
                font-size: 0.9rem;
            }
            .print-icon {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="frame-container">
      
        <iframe 
            class="responsive-iframe"
            id="logicStudioFrame"
            src="https://www.101computing.net/logic-gates-studio/"
            title="Logic Gates Studio ‚Äì interactive circuit designer"
            referrerpolicy="no-referrer-when-downgrade"
            sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-downloads allow-modals"
            loading="lazy">
        </iframe>
        
        <!-- FOOTER ‚Äì PRINT BUTTON ON RIGHT SIDE (fixed to bottom) -->
        <div class="iframe-footer">
    
    <!-- left side -->
   <div class="footer-left">
    <span class="lightning-left" style="color:white;"></span>
    <span style="color:white;">LOGIC GATES STUDIO</span>
</div>


    <!-- CENTER TEXT (NEW) -->
    <div class="footer-center">
        I&nbsp;&nbsp;firdous lone&nbsp;&nbsp;I&nbsp;&nbsp;TeachingToolkit I Logic Gates
    </div>
    
    <!-- right side -->
    <button class="print-btn" id="globalPrintButton">
        <span class="print-icon">üñ®Ô∏è</span> SAVE
    </button>

</div>

<span class="caption">print button</span>


    <script>
        (function() {
            "use strict";
            
            // ========== 1. PRINT BUTTON: OPENS NATIVE PRINT WINDOW ==========
            const printBtn = document.getElementById('globalPrintButton');
            if (printBtn) {
                printBtn.addEventListener('click', function(e) {
                    e.preventDefault();      // avoid any weird default behaviour
                    e.stopPropagation();      // keep inside footer
                    window.print();           // open browser print dialog
                    console.log('üñ®Ô∏è Print window opened');
                });
            }

            // ========== 2. FULL RIGHT-CLICK PROTECTION (GLOBAL + IFRAME) ==========
            function preventRightClickGlobal(e) {
                e.preventDefault();
                e.stopPropagation();
                return false;
            }

            window.addEventListener('contextmenu', preventRightClickGlobal, { capture: true });
            document.addEventListener('contextmenu', preventRightClickGlobal, { capture: true });
            document.body.addEventListener('contextmenu', preventRightClickGlobal, { capture: true });

            const iframe = document.getElementById('logicStudioFrame');
            if (iframe) {
                iframe.addEventListener('contextmenu', preventRightClickGlobal);
                iframe.parentElement.addEventListener('contextmenu', preventRightClickGlobal);

                iframe.addEventListener('load', function() {
                    try {
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        if (iframeDoc) {
                            iframeDoc.addEventListener('contextmenu', preventRightClickGlobal, { capture: true });
                            iframeDoc.body.addEventListener('contextmenu', preventRightClickGlobal, { capture: true });
                        }
                    } catch (e) { /* cross-origin ‚Äì ignore */ }
                });
            }

            // ========== 3. AGGRESSIVE CTRL+S / CTRL+SHIFT+S BLOCK ==========
            // --- MULTIPLE LAYERS: keydown, keyup, global overrides ---
            function killSaveShortcut(e) {
                // Blocks Ctrl+S, Ctrl+Shift+S (any combination)
                if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
                    e.preventDefault();
                    e.stopImmediatePropagation(); // stronger than stopPropagation
                    e.stopPropagation();
                    return false;
                }
            }

            // Add multiple listeners with highest priority (capture phase)
            window.addEventListener('keydown', killSaveShortcut, { capture: true, passive: false });
            document.addEventListener('keydown', killSaveShortcut, { capture: true, passive: false });
            document.body.addEventListener('keydown', killSaveShortcut, { capture: true, passive: false });

            // Also block on keyup (some browsers/ extensions try keyup save)
            window.addEventListener('keyup', killSaveShortcut, { capture: true, passive: false });
            document.addEventListener('keyup', killSaveShortcut, { capture: true, passive: false });

            // Override the native onkeydown (legacy, bulletproof)
            window.onkeydown = function(e) {
                if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
                    e.preventDefault();
                    return false;
                }
            };
            document.onkeydown = function(e) {
                if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
                    e.preventDefault();
                    return false;
                }
            };

            // Block Save As via Ctrl+Shift+S explicitly (extra layer)
            function blockShiftSave(e) {
                if (e.ctrlKey && e.shiftKey && (e.key === 's' || e.key === 'S')) {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                    return false;
                }
            }
            window.addEventListener('keydown', blockShiftSave, { capture: true, passive: false });
            document.addEventListener('keydown', blockShiftSave, { capture: true, passive: false });

            // ---------- EXTREME MEASURE: disable window.print() override? no, we need print button.
            // but we completely kill native save shortcuts for the main window.
            // Override navigator keyboard behavior? not needed, but we also kill the event on iframe level
            if (iframe) {
                iframe.addEventListener('load', function() {
                    try {
                        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                        if (iframeDoc) {
                            // inject CTRL+S block inside iframe (if same-origin)
                            iframeDoc.addEventListener('keydown', function(e) {
                                if (e.ctrlKey && (e.key === 's' || e.key === 'S')) {
                                    e.preventDefault();
                                    e.stopPropagation();
                                    return false;
                                }
                            }, { capture: true });
                        }
                    } catch(e) {}
                });
            }

            // ========== 4. FOOTER HEIGHT (no longer needed with fixed footer, but keep for compatibility) ==========
            // footer is fixed, no dynamic margin needed ‚Äì we remove conflicting adjustFooterHeight
            // just to avoid errors; we keep a dummy function 
            window.adjustFooterHeight = function() {};

            // ========== 5. EXTREME RIGHT-CLICK PROTECTION LAYER ==========
            window.addEventListener('copy', (e) => e.preventDefault());
            window.addEventListener('cut', (e) => e.preventDefault());
            window.addEventListener('paste', (e) => e.preventDefault());
            
            document.oncontextmenu = function() { return false; };
            window.oncontextmenu = function() { return false; };
            
            document.addEventListener('mousedown', function(e) {
                if (e.button === 2) { e.preventDefault(); e.stopPropagation(); return false; }
            }, { capture: true });
            
            document.addEventListener('mouseup', function(e) {
                if (e.button === 2) { e.preventDefault(); e.stopPropagation(); return false; }
            }, { capture: true });

            // ========== 6. FINAL VERIFICATION: CTRL+S NOW IMPOSSIBLE ==========
            console.log('‚úÖ CTRL+S fully blocked ‚Äì print button on footer right side');
        })();
    </script>
</body>
</html>
